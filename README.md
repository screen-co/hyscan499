## HyScan 4.99 ##

HyScan 4.99 построен на библиотеках HyScan 5, но это ещё не HyScan 5.
Между тем, он позволяет на ежедневной основе работать с гидролокаторами,
датчиками и данными.

# Сборка #

Сборка осуществляется в этапа:
 1. Склонировать hyscan-builder:
 	```
 	git clone git@gitlab.screen-co.ru:hyscan/hyscan-builder.git
 	```
 2. Переключиться на ветвь wip/hyscan-499:
    ```
    git checkout wip/hyscan-499
    ```
 3. Склонировать все зависимости: `./manager clone`
 4. Собрать командой `make`
 5. Скопировать куда-нибудь конфигурационные файлы. Файлы лежат в папке
    `hyscan-499/example-ini`. Существует 2 типа конфигурационных файлов:
    - Профили оборудования описывают подключенное оборудование
      (см `default.ini`,  `dsse.ini`,  `flss.ini`,  `pf.ini`)
    - Параметры программы задают некоторые настройки программы (`config.ini`)
      В `config.ini` наиболее интересны 2 поля: `hardware` описывает профиль
      по умолчанию, `paths` пути к папкам с драйверами оборудования.
 6. Создать где-нибудь базу данных. Это просто папка, поэтому и создается она
    как папка: `mkdir /tmp/db`
 7. Всё готово. Можно запускать.

# Модули интерфейса #

На данный момент существует 3 модуля интерфейса:
1. hardware.ui - специализированный интерфейс для AME. Предназначен для БИУС ИРК
   и характерен тем, что его крайне неудобно использовать с мышкой, зато удобно
   использовать с кнопками вокруг экрана БИУС
2. software.ui - интерфейс для использования с мышкой, позволяющий отобразить
   все панели сразу
3. evo.ui - интерфейс для использования с мышкой с немного другой организацией:
   позволяет отобразить только одну панель за один раз

# Запуск #

Если запустить `hyscan499` без ключей, будет показана небольшая подсказка.
Ниже я перечислю основные ключи.
- -d путь к БД, ожидает на вход строку вида `file://[relative-or-absolute-path]`
- -p путь к файлу с профилем оборудования (абсолютный или относительный)
- config-file передается последним параметром и задает путь к конфигурационному 
  файлу
- Семейство ключей: --ss, --ss-lo, --pf, --fl, --es задает отображаемые
  программой панели. Панель, по сути, является сочетанием виджета акустических
  данных, виджета настройки отображения и виджета управления локатором. Можно
  (и нужно) задавать несколько ключей, если требуется несколько панелей.
- --ui скрытый ключ (не показывается в подсказке), определяет используемый 
  модуль интерфейса

Например, лично я запускаю так:
```bash
./hyscan499 -d file:///home/dmitriev.a/dev/updb --ss --es -p flss.ini config.ini
```
